{
    "type": "origins:multiple",
    "default": {
        "type": "origins:action_on_callback",
        "entity_action_gained":{
            "type": "origins:execute_command",
            "command": "function manhunt:main/default"
        }
    },
    "joining": {
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:selector_action",
            "selector": "@a",
            "bientity_action": {
                "type": "origins:target_action",
                "action": {
                    "type": "origins:execute_command",
                    "command": "power grant @s manhunt:start"
                }
            },
            "bientity_condition": {
                "type": "origins:target_condition",
                "condition": {
                    "type": "origins:power",
                    "power": "manhunt:start",
                    "inverted": true
                }
            }
        },
        "interval": 1,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_ready_timer",
            "comparison": ">",
            "compare_to": 0
        }
    },
    "joining_after_timer": {
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:selector_action",
            "selector": "@a",
            "bientity_action": {
                "type": "origins:target_action",
                "action": {
                    "type": "origins:execute_command",
                    "command": "function manhunt:main/joining_after_timer"
                }
            },
            "bientity_condition": {
                "type": "origins:target_condition",
                "condition": {
                    "type": "origins:power",
                    "power": "manhunt:waiting"
                }
            }
        },
        "interval": 1,
        "condition": {
            "type": "origins:power",
            "power": "manhunt:joining"
        }
    },
    "daytime": {
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:execute_command",
            "command": "time set day"
        },
        "interval": 30,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_ready_timer",
            "comparison": ">",
            "compare_to": 0
        }
    },
    "ban_start": {
        "type": "origins:resource",
        "min": 0,
        "max": 70,
        "start_value": 0,
        "max_action": {
            "type": "origins:and",
            "actions": [
                {
                    "type": "origins:selector_action",
                    "selector": "@a",
                    "bientity_action": {
                        "type": "origins:target_action",
                        "action": {
                            "type": "moborigins:show_floating_item",
                            "item_stack": {
                                "item": "minecraft:barrier"
                            }
                        }
                    }
                },
                {
                    "type": "origins:execute_command",
                    "command": "playsound minecraft:entity.experience_orb.pickup player @a ~ ~ ~ 10 0.5"
                }
            ]
        },
        "min_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:setup/ban"
        }
    },
    "ban_down": {
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:change_resource",
            "resource": "manhunt:hunt_ban_start",
            "change": -10
        },
        "interval": 10,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_ban_start",
            "comparison": ">",
            "compare_to": 0
        }
    },
    "ban_msg1": {
        "type": "origins:action_over_time",
        "rising_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/ban_msg1"
        },
        "interval": 1,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_ban_start",
            "comparison": "==",
            "compare_to": 60
        }
    },
    "ban_msg2": {
        "type": "origins:action_over_time",
        "rising_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/ban_msg2"
        },
        "interval": 1,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_ban_start",
            "comparison": "==",
            "compare_to": 40
        }
    },
    "ban_msg3": {
        "type": "origins:action_over_time",
        "rising_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/ban_msg3"
        },
        "interval": 1,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_ban_start",
            "comparison": "==",
            "compare_to": 20
        }
    },
    "ready_timer": {
        "type": "origins:resource",
        "min": 0,
        "max": 10,
        "start_value": 10,
        "hud_render": {
            "should_render": false
        },
        "min_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/ready_timer"
        }
    },
    "ready_timer_tick": {
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:execute_command",
            "command": "execute unless entity @a[tag=!ready] run function manhunt:main/ready_timer_tick"
        },
        "interval": 20,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_ready_timer",
            "comparison": ">",
            "compare_to": 0
        }
    },
    "ready_timer_reset": {
        "type": "origins:action_over_time",
        "rising_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/ready_timer_reset"
        },
        "interval": 1,
        "condition": {
            "type": "origins:command",
            "command": "execute unless entity @a[tag=!ready]",
            "comparison": "==",
            "compare_to": 0
        }
    },
    "countdown": {
        "type": "origins:resource",
        "min": -1,
        "max": 35,
        "start_value": 15,
        "hud_render": {
            "should_render": false
        },
        "min_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/countdown"
        }
    },
    "timer_tick": {
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:execute_command",
            "command": "execute if entity @s[tag=!repick_enabled] run function manhunt:main/timer_tick_main"
        },
        "interval": 20,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_ready_timer",
            "comparison": "==",
            "compare_to": 0
        }
    },
    "repick_timer": {
        "type": "origins:resource",
        "min": 0,
        "max": 400,
        "start_value": 0,
        "hud_render": {
            "should_render": false
        },
        "min_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/repick_timer"
        }
    },
    "repick_timer_tick": {
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:change_resource",
            "resource": "manhunt:hunt_repick_timer",
            "change": -10
        },
        "interval": 10,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_repick_timer",
            "comparison": ">",
            "compare_to": 0
        }
    },
    "repick_timer_scoreboard": {
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:and",
            "actions": [
                {
                    "type": "origins:execute_command",
                    "command": "scoreboard players remove @s repick_timer 1"
                },
                {
                    "type": "origins:if_else",
                    "condition": {
                        "type": "origins:resource",
                        "resource": "manhunt:hunt_repick_timer",
                        "comparison": "<=",
                        "compare_to": 300
                    },
                    "if_action": {
                        "type": "origins:execute_command",
                        "command": "function manhunt:main/repick_timer_scoreboard"
                    },
                    "else_action": { 
                        "type": "origins:toggle",
                        "power": "manhunt:hunt_repick_timer_scoreboard"
                    }
                }
            ]
        },
        "interval": 20,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_repick_timer",
            "comparison": ">",
            "compare_to": 0
        }
    },
    "repick_msg1": {
        "type": "origins:action_over_time",
        "rising_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/repick_msg1"
        },
        "interval": 1,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_repick_timer",
            "comparison": "==",
            "compare_to": 380
        }
    },
    "repick_msg2": {
        "type": "origins:action_over_time",
        "rising_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/repick_msg2"
        },
        "interval": 1,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_repick_timer",
            "comparison": "==",
            "compare_to": 360
        }
    },
    "repick_msg3": {
        "type": "origins:action_over_time",
        "rising_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/repick_msg3"
        },
        "interval": 1,
        "condition": {
            "type": "origins:resource",
            "resource": "manhunt:hunt_repick_timer",
            "comparison": "==",
            "compare_to": 320
        }
    },
    "apply_glow": {
        "type": "origins:action_over_time",
        "entity_action": {
            "type": "origins:execute_command",
            "command": "function manhunt:main/apply_glow"
        },
        "interval": 20
    }
}